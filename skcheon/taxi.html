<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>y = ax + b 택시요금 시각화</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: #f0f4f8;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }
        
        .control-group {
            text-align: center;
        }
        
        .control-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 10px;
            color: #495057;
            font-size: 1.1em;
        }
        
        .slider {
            width: 100%;
            margin: 10px 0;
        }
        
        .value-display {
            font-size: 1.3em;
            font-weight: bold;
            color: #007bff;
            margin-top: 10px;
        }
        
        .formula {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            color: #dc3545;
            margin: 20px 0;
            padding: 20px;
            background: #fff3cd;
            border-radius: 10px;
            border: 3px solid #ffc107;
        }
        
        .graph-container {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 30px 0;
            position: relative;
        }
        
        .graph {
            width: 100%;
            height: 400px;
            border: 1px solid #ccc;
            background: #fafafa;
            position: relative;
            overflow: hidden;
        }
        
        .examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .example-card {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #2196f3;
        }
        
        .explanation {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border: 2px solid #28a745;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚕 y = ax + b 택시요금 시각화</h1>
        
        <div class="controls">
            <div class="control-group">
                <label for="slope">a (기울기) - km당 요금</label>
                <input type="range" id="slope" class="slider" min="500" max="2000" value="1000" step="100">
                <div class="value-display" id="slopeValue">1,000원/km</div>
            </div>
            <div class="control-group">
                <label for="intercept">b (절편) - 기본요금</label>
                <input type="range" id="intercept" class="slider" min="1000" max="5000" value="3000" step="500">
                <div class="value-display" id="interceptValue">3,000원</div>
            </div>
        </div>
        
        <div class="formula" id="formula">
            y = 1000x + 3000
        </div>
        
        <div class="graph-container">
            <h3 style="text-align: center; margin-bottom: 20px;">📈 거리별 택시요금 그래프</h3>
            <svg class="graph" id="graph" viewBox="0 0 500 300">
                <!-- 격자 -->
                <defs>
                    <pattern id="grid" width="50" height="30" patternUnits="userSpaceOnUse">
                        <path d="M 50 0 L 0 0 0 30" fill="none" stroke="#e0e0e0" stroke-width="1"/>
                    </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#grid)" />
                
                <!-- 축 -->
                <line x1="50" y1="250" x2="450" y2="250" stroke="#333" stroke-width="2" />
                <line x1="50" y1="250" x2="50" y2="30" stroke="#333" stroke-width="2" />
                
                <!-- 축 레이블 -->
                <text x="250" y="285" text-anchor="middle" font-size="14" font-weight="bold">이동거리 (km)</text>
                <text x="25" y="140" text-anchor="middle" font-size="14" font-weight="bold" transform="rotate(-90 25 140)">요금 (원)</text>
                
                <!-- 눈금과 레이블 -->
                <g id="axis-labels"></g>
                
                <!-- 선 -->
                <polyline id="line" fill="none" stroke="#007bff" stroke-width="4" />
                
                <!-- 점들 -->
                <g id="points"></g>
            </svg>
        </div>
        
        <div class="examples" id="examples">
            <!-- 동적으로 생성됩니다 -->
        </div>
        
        <div class="explanation">
            <h3>🎯 그래프 이해하기</h3>
            <p><strong>🔺 기울기(a)</strong>: 선이 얼마나 가파른지 → 거리당 요금이 얼마나 비싼지</p>
            <p><strong>📍 절편(b)</strong>: 선이 y축과 만나는 점 → 0km일 때의 기본요금</p>
            <p><strong>💡 핵심</strong>: a를 바꾸면 선의 기울기가, b를 바꾸면 선의 위치가 변합니다!</p>
        </div>
    </div>

    <script>
        let a = 1000;
        let b = 3000;
        
        function updateGraph() {
            const line = document.getElementById('line');
            const points = document.getElementById('points');
            const axisLabels = document.getElementById('axis-labels');
            
            // 선 그리기 (0km부터 10km까지)
            let pathData = '';
            let pointsHTML = '';
            
            // 축 눈금과 레이블 그리기
            let axisHTML = '';
            
            // X축 눈금 (거리)
            for (let i = 0; i <= 10; i++) {
                const x = 50 + i * 40;
                axisHTML += `<line x1="${x}" y1="245" x2="${x}" y2="255" stroke="#666" stroke-width="1" />`;
                axisHTML += `<text x="${x}" y="270" text-anchor="middle" font-size="12">${i}</text>`;
            }
            
            // Y축 눈금과 선 그리기
            for (let i = 0; i <= 10; i++) {
                const distance = i;
                const cost = a * distance + b;
                const x = 50 + distance * 40;  // 50px 시작, 40px 간격
                const y = 250 - (cost / 100);  // 비례 조정
                
                if (i === 0) {
                    pathData = `M ${x} ${y}`;
                } else {
                    pathData += ` L ${x} ${y}`;
                }
                
                // 점 그리기
                pointsHTML += `<circle cx="${x}" cy="${y}" r="5" fill="#007bff" stroke="white" stroke-width="2" />`;
                
                // 값 표시 (몇 개만)
                if (i % 2 === 0) {
                    pointsHTML += `<text x="${x}" y="${y-10}" text-anchor="middle" font-size="11" fill="#007bff" font-weight="bold">${cost.toLocaleString()}</text>`;
                }
            }
            
            // Y축 눈금 (요금)
            for (let i = 0; i <= 8; i++) {
                const y = 250 - i * 25;
                const value = (i * 2500);
                axisLabels.innerHTML += `<line x1="45" y1="${y}" x2="55" y2="${y}" stroke="#666" stroke-width="1" />`;
                axisLabels.innerHTML += `<text x="40" y="${y+5}" text-anchor="end" font-size="10">${value.toLocaleString()}</text>`;
            }
            
            axisLabels.innerHTML = axisHTML;
            line.setAttribute('d', pathData);
            points.innerHTML = pointsHTML;
        }
        
        function updateDisplay() {
            a = parseInt(document.getElementById('slope').value);
            b = parseInt(document.getElementById('intercept').value);
            
            document.getElementById('slopeValue').textContent = `${a.toLocaleString()}원/km`;
            document.getElementById('interceptValue').textContent = `${b.toLocaleString()}원`;
            document.getElementById('formula').textContent = `y = ${a}x + ${b}`;
            
            updateGraph();
            updateExamples();
        }
        
        function updateExamples() {
            const examples = [
                { distance: 0, cost: b },
                { distance: 3, cost: a * 3 + b },
                { distance: 7, cost: a * 7 + b },
                { distance: 10, cost: a * 10 + b }
            ];
            
            const examplesDiv = document.getElementById('examples');
            examplesDiv.innerHTML = examples.map(ex => `
                <div class="example-card">
                    <h4>${ex.distance}km 이동</h4>
                    <div style="font-size: 1.2em; font-weight: bold; color: #007bff;">
                        ${ex.cost.toLocaleString()}원
                    </div>
                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
                        ${a} × ${ex.distance} + ${b}
                    </div>
                </div>
            `).join('');
        }
        
        // 이벤트 리스너
        document.getElementById('slope').addEventListener('input', updateDisplay);
        document.getElementById('intercept').addEventListener('input', updateDisplay);
        
        // 초기 실행
        updateDisplay();
    </script>
</body>
</html>